import './SvgIcon.css'
import {useEffect, useState} from "react";
import Cookies from "js-cookie";

export function SvgTelegram() {
    return (
        <svg className="SvgIconTg" width="49" height="48" viewBox="0 0 49 48" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path className="SvgTgBack" d="M24.6 48C37.8548 48 48.6 37.2548 48.6 24C48.6 10.7452 37.8548 0 24.6 0C11.3451 0 0.599976 10.7452 0.599976 24C0.599976 37.2548 11.3451 48 24.6 48Z"/>
            <path fillRule="evenodd" clipRule="evenodd"
                  d="M11.4638 23.7466C18.4602 20.6984 23.1257 18.6888 25.46 17.7179C32.1251 14.9456 33.51 14.4641 34.4127 14.4482C34.6112 14.4447 35.0552 14.4939 35.3427 14.7272C35.5855 14.9242 35.6523 15.1904 35.6843 15.3771C35.7162 15.5639 35.7561 15.9895 35.7244 16.3219C35.3632 20.1169 33.8004 29.3263 33.0053 33.5767C32.6689 35.3752 32.0065 35.9783 31.3651 36.0373C29.9714 36.1655 28.9131 35.1162 27.5632 34.2313C25.4509 32.8467 24.2576 31.9847 22.2072 30.6336C19.8377 29.0721 21.3737 28.2139 22.7241 26.8113C23.0775 26.4442 29.2183 20.8587 29.3372 20.352C29.352 20.2886 29.3658 20.0524 29.2255 19.9277C29.0852 19.803 28.8781 19.8456 28.7286 19.8795C28.5167 19.9276 25.1423 22.158 18.6053 26.5707C17.6474 27.2284 16.7799 27.5489 16.0026 27.5321C15.1456 27.5135 13.4972 27.0475 12.2719 26.6492C10.7688 26.1607 9.57429 25.9023 9.67831 25.0726C9.73249 24.6404 10.3276 24.1984 11.4638 23.7466Z"
                  fill="white"/>
            <defs>
                <linearGradient id="gradient" x1="24" y1="0" x2="24" y2="48" gradientUnits="userSpaceOnUse">
                    <stop stopColor="var(--color-main)"/>
                    <stop offset="1" stopColor="var(--color-main)"/>
                </linearGradient>
            </defs>
        </svg>
    )
}

export function SvgWhatsApp() {
    return (
        <svg className="SvgIconWa" width="49" height="48" viewBox="0 0 49 48" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path className="SvgWaBack"
                d="M0.599976 48L3.97398 35.674C1.89198 32.066 0.797976 27.976 0.799976 23.782C0.805976 10.67 11.476 0 24.586 0C30.948 0.002 36.92 2.48 41.412 6.976C45.902 11.472 48.374 17.448 48.372 23.804C48.366 36.918 37.696 47.588 24.586 47.588C20.606 47.586 16.684 46.588 13.21 44.692L0.599976 48ZM13.794 40.386C17.146 42.376 20.346 43.568 24.578 43.57C35.474 43.57 44.35 34.702 44.356 23.8C44.36 12.876 35.526 4.02 24.594 4.016C13.69 4.016 4.81998 12.884 4.81598 23.784C4.81398 28.234 6.11798 31.566 8.30798 35.052L6.30998 42.348L13.794 40.386ZM36.568 29.458C36.42 29.21 36.024 29.062 35.428 28.764C34.834 28.466 31.912 27.028 31.366 26.83C30.822 26.632 30.426 26.532 30.028 27.128C29.632 27.722 28.492 29.062 28.146 29.458C27.8 29.854 27.452 29.904 26.858 29.606C26.264 29.308 24.348 28.682 22.078 26.656C20.312 25.08 19.118 23.134 18.772 22.538C18.426 21.944 18.736 21.622 19.032 21.326C19.3 21.06 19.626 20.632 19.924 20.284C20.226 19.94 20.324 19.692 20.524 19.294C20.722 18.898 20.624 18.55 20.474 18.252C20.324 17.956 19.136 15.03 18.642 13.84C18.158 12.682 17.668 12.838 17.304 12.82L16.164 12.8C15.768 12.8 15.124 12.948 14.58 13.544C14.036 14.14 12.5 15.576 12.5 18.502C12.5 21.428 14.63 24.254 14.926 24.65C15.224 25.046 19.116 31.05 25.078 33.624C26.496 34.236 27.604 34.602 28.466 34.876C29.89 35.328 31.186 35.264 32.21 35.112C33.352 34.942 35.726 33.674 36.222 32.286C36.718 30.896 36.718 29.706 36.568 29.458Z"
            />
            <defs>
                <linearGradient id="gradientWa" x1="23.886" y1="0" x2="23.886" y2="48" gradientUnits="userSpaceOnUse">
                    <stop stopColor="var(--color-main)"/>
                    <stop offset="1" stopColor="var(--color-main)"/>
                </linearGradient>
            </defs>
        </svg>
    )
}

export function SvgHeart({ id }) {
    const [hovered, setHovered] = useState(false);
    const [active, setActive] = useState(false);

    useEffect(() => {
        const savedFavorites = Cookies.get("favorites");
        if (savedFavorites) {
            const favorites = JSON.parse(savedFavorites);
            setActive(favorites.includes(id));
        }
    }, [id]);

    const handleClick = () => {
        let favorites = Cookies.get("favorites") ? JSON.parse(Cookies.get("favorites")) : [];

        if (favorites.includes(id)) {
            // Удаляем id из списка
            favorites = favorites.filter(favId => favId !== id);
            setActive(false);
        } else {
            // Добавляем id в список
            favorites.push(id);
            setActive(true);
        }

        if (favorites.length > 0) {
            Cookies.set("favorites", JSON.stringify(favorites), { expires: 365 });
        } else {
            Cookies.remove("favorites"); // Удаляем куку, если список пуст
        }
    };

    return (
        <svg
            width="74"
            height="65"
            viewBox="0 0 74 65"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
            className="Heart"
            onMouseEnter={() => setHovered(true)}
            onMouseLeave={() => setHovered(false)}
            onClick={handleClick}
            style={{ cursor: "pointer" }}
        >
            <path
                className="empty"
                d="M40.1056 10.3003L40.1057 10.3002C41.8104 8.00871 44.9204 5.17216 48.8838 3.63227L48.8838 3.63226C52.7135 2.14425 57.4075 1.82443 62.7537 4.51923L62.7538 4.51925C69.4248 7.88171 71.8805 13.563 71.4536 20.0188C71.0104 26.7181 67.3956 34.1879 61.747 39.8824L61.7469 39.8824C55.6419 46.0373 45.2162 56.5362 37.6953 62.302L37.6951 62.3021C37.3517 62.5655 36.8757 62.5805 36.4794 62.2582C29.505 56.583 18.164 45.8415 12.2529 39.8824L12.2529 39.8824C6.60418 34.1879 2.98943 26.7181 2.54643 20.0188L2.54643 20.0188C2.11949 13.563 4.57521 7.8817 11.246 4.51924L10.1207 2.2868L11.246 4.51923C16.5923 1.82443 21.2863 2.14425 25.116 3.63226L25.1161 3.63227C29.0794 5.17214 32.1895 8.00864 33.8945 10.3003C33.8945 10.3003 33.8946 10.3003 33.8946 10.3004L34.9943 11.7785L37.0001 14.4747L39.0059 11.7785L40.1056 10.3003Z"
                stroke="#4B6587"
                strokeWidth="5"
            />
            <path
                className="filled"
                d="M38.0998 8.80805C40.0343 6.20762 43.5035 3.04063 47.9784 1.30198C52.4066 -0.418567 57.8435 -0.755442 63.879 2.2868C71.568 6.16236 74.4318 12.8697 73.9481 20.1838C73.4585 27.5862 69.5169 35.5993 63.5219 41.643C57.4608 47.7535 46.902 58.3939 39.2164 64.286C37.9346 65.2689 36.1766 65.2348 34.9015 64.1973C27.8278 58.4413 16.4158 47.6291 10.478 41.643C4.48286 35.5993 0.541378 27.5862 0.0518752 20.1838C-0.431826 12.8697 2.432 6.16236 10.1207 2.2868C16.1563 -0.755442 21.5933 -0.418567 26.0215 1.30198C30.4964 3.04063 33.9656 6.20762 35.9003 8.80805L37.0001 10.2863L38.0998 8.80805Z"
                fill="#4B6587"
                style={{
                    opacity: active || hovered ? 1 : 0,
                    transition: "opacity 0.2s ease-in-out",
                    pointerEvents: "none",
                }}
            />
        </svg>
    );
}
